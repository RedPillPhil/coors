(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{27379:function(e,l,s){Promise.resolve().then(s.bind(s,33925))},33925:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return B}});var t=s(9268),a=s(86006),n=s(19707),r=s(35846),d=s.n(r),o=s(54306),i=s(89105),c=s(9770),x=s(46364);let u=async()=>{let e=(0,o.uN)({address:"0x36E0F99A19481976C42CC45Aec7205B10807E275",abi:c.Mt}),l=await e.read.allPairsLength(),s=[];for(let t=0;t<l;t++){let l=await e.read.allPairs([t]);s.push(l)}return s},m=async e=>{let l=await u(),s=[];for(let t=0;t<l.length;t++){let a=(0,o.uN)({address:l[t],abi:x.Mt}),n=await (0,o.EG)({token:l[t],address:e}),r=await a.read.token0(),d=await a.read.token1(),c=await a.read.totalSupply();Number(n.formatted)>0&&s.push({pairAddress:l[t],token0Address:r,token1Address:d,walletBalance:n.formatted,pairTotalSupply:(0,i.bM)(c,18)})}return s},p=()=>{let[e,l]=(0,a.useState)(!0),[s,t]=(0,a.useState)([]),{address:r,isConnected:d}=(0,n.mA)();return(0,a.useEffect)(()=>{m(r).then(e=>{l(!1),t(e)})},[d]),[e,s]};var f=s(76394),h=s.n(f),v=s(7578),b=s.n(v),w=s(71986);let{ethAddress:j,routerAddress:k,factoryAddress:N}=w.k,y=async(e,l)=>{let s=(0,o.uN)({address:e,abi:x.Mt}),[t,a,n,r]=await Promise.all([s.read.token0(),s.read.token1(),s.read.getReserves(),s.read.totalSupply()]);if(l){let e=await s.read.balanceOf([l]);return{pairToken0:t,pairToken1:a,reserves:n,totalSupply:r,pairBalance:e}}return{pairToken0:t,pairToken1:a,reserves:n,totalSupply:r}},A=e=>{let{pairAddress:l,account:s}=e,[t,n]=(0,a.useState)(!0),[r,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{n(!0),y(l,s).then(e=>{null===e?d(null):(d({token0:null==e?void 0:e.pairToken0,token1:null==e?void 0:e.pairToken1,reserves:null==e?void 0:e.reserves,totalSupply:null==e?void 0:e.totalSupply,pairBalance:null==e?void 0:e.pairBalance}),n(!1))})},[]),[r,t]};var g=s(32522);let{ethAddress:S}=w.k;var E=e=>{let{pair:l}=e,[s,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)(0),[x,u]=(0,a.useState)(0),{address:m}=(0,n.mA)(),[p,f]=A({pairAddress:l.pairAddress,account:m});return(0,a.useEffect)(()=>{if(m&&p){let[e,s]=p.reserves,t=Number((0,i.bM)(e,(0,g.pC)(l.token0Address))),a=Number((0,i.bM)(s,(0,g.pC)(l.token1Address))),n=Number(l.pairTotalSupply);c(t/n*l.walletBalance),u(a/n*l.walletBalance)}},[p]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex w-full space-x-1 items-center justify-between px-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center space-x-2",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(h(),{src:(0,g.Jn)(l.token0Address),width:"36",height:"36",alt:"".concat(l.token0Symbol," logo")}),(0,t.jsx)(h(),{src:(0,g.Jn)(l.token1Address),width:"36",height:"36",className:"ml-[-15px]",alt:"".concat(l.token1Symbol," logo")})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsxs)("span",{className:"text-xl",children:[(0,g.sS)(l.token0Address.toLowerCase()),"/",(0,g.sS)(l.token1Address.toLowerCase())]}),(0,t.jsx)("span",{className:"flex",children:l.walletBalance})]})]}),(0,t.jsx)(h(),{src:"/chevron-down.svg",alt:"chevron down",onClick:()=>r(e=>!e),className:"object-contain ml-auto p-1 cursor-pointer ".concat(s?"rotate-180":null),width:"30",height:"30"})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full ".concat(s?"":"hidden"),children:[(0,t.jsx)("div",{className:"border-t-2 min-h-[60px] border-[#E6E6E6] py-2 pl-5 pr-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,t.jsx)(h(),{src:(0,g.Jn)(l.token0Address),width:"36",height:"36",className:"ml-[-15px]",alt:"".concat((0,g.sS)(l.token0Address)," logo")}),(0,t.jsxs)("span",{children:["Pooled ",(0,g.sS)(l.token0Address.toLowerCase())]})]}),(0,t.jsx)("div",{children:o})]})}),(0,t.jsx)("div",{className:"border-t-2 min-h-[60px] border-[#E6E6E6] py-2 pl-5 pr-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,t.jsx)(h(),{src:(0,g.Jn)(l.token1Address),width:"36",height:"36",className:"ml-[-15px]",alt:"".concat((0,g.sS)(l.token1Address)," logo")}),(0,t.jsxs)("span",{children:["Pooled ",(0,g.sS)(l.token1Address.toLowerCase())]})]}),(0,t.jsx)("div",{children:x})]})}),(0,t.jsxs)("div",{className:"flex justify-between border-t-2 min-h-[60px] border-[#E6E6E6] py-2 px-2 items-center",children:[(0,t.jsx)("div",{className:"flex space-x-1 items-center",children:"Share of Pool"}),(0,t.jsx)("div",{children:b()(l.walletBalance).divide(l.pairTotalSupply).format("0.00%")})]}),(0,t.jsxs)("div",{className:"border-t-2 min-h-[60px] border-[#E6E6E6] flex justify-center space-x-10 items-center py-8",children:[(0,t.jsx)(d(),{href:"/pools/remove/".concat(l.token0Address,"/").concat(l.token1Address),children:(0,t.jsx)("button",{className:"box-s border-2 border-[#E6E6E6] bg-[#FAFAF5] rounded-full px-8 py-2 w-[200px]",children:"- Remove"})}),(0,t.jsx)(d(),{href:"/pools/add?token0=".concat(l.token0Address,"&token1=").concat(l.token1Address),children:(0,t.jsx)("button",{className:"box-s border-2 border-[#E6E6E6] bg-[#FAFAF5] rounded-full px-8 py-2 w-[200px]",children:"+ Add"})})]})]})]})};let C=()=>{let[e,l]=p();return(0,t.jsx)("div",{className:"flex w-full justify-center items-center",children:e?(0,t.jsx)("div",{className:"w-full text-center",children:"Pairs are loading."}):(0,t.jsx)("div",{className:"flex flex-col justify-between w-full space-y-4",children:0===l.length?(0,t.jsx)("div",{className:"w-full text-center",children:"No liquidity found."}):l.map((e,l)=>(0,t.jsx)(E,{pair:e},l))})})};C.propTypes={};var B=()=>{let{address:e,isConnected:l}=(0,n.mA)();return(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"relative w-full flex justify-center mb-[50px] box-shadow z-50 mt-[100px] bg-[#FFFCF6]",children:(0,t.jsx)("div",{className:"md:min-w-[550px] min-w-full max-w-full rounded-3xl",children:(0,t.jsxs)("div",{className:"flex flex-col w-full rounded-3xl shadow-card px-4 py-3",children:[(0,t.jsx)("div",{className:"w-full max-w-screen-xl mx-auto mb-5",children:(0,t.jsxs)("div",{className:"flex justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("h2",{className:"text-black text-xl",children:"Pools"}),(0,t.jsx)("p",{className:"text-black text-base",children:"Put your funds to work by providing liquidity."})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z",clipRule:"evenodd"})})})]})}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,t.jsx)("div",{className:"flex w-full mt-[40px] mb-[25px] justify-center items-center",children:l?(0,t.jsx)(C,{}):(0,t.jsx)("span",{children:"Connect to a wallet to view your liquidity."})}),(0,t.jsx)(d(),{href:"/pools/add",className:"w-full",children:(0,t.jsx)("button",{disabled:!l,className:"rounded-2xl button-add py-4 w-full text-2xl",children:"+Add Liqudity"})})]})]})})})})})}},32522:function(e,l,s){"use strict";s.d(l,{Jn:function(){return r},oY:function(){return d},pC:function(){return a},sS:function(){return n}});let t={"0x82af49447d8a07e3bd95bd0d56f35241523fbab1":{tokenName:"Ethereum",tokenSymbol:"ETH",tokenAddress:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",decimals:18,tokenImg:"/logo_eth.png"},"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8":{tokenName:"USD Coin Bridged",tokenSymbol:"USDC.e",tokenAddress:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",decimals:6,tokenImg:"/usdc_logo.png"},"0x802124eb78e43fd8d3d4e6daaaa4be28dc7993dc":{tokenName:"Spinaq",tokenSymbol:"SPINAQ",tokenAddress:"0x802124EB78E43FD8d3d4E6DAAAa4Be28Dc7993dc",decimals:18,tokenImg:"/spinaq_logo.png"}},a=e=>{var l,s;return null!==(s=null===(l=t[null==e?void 0:e.toLowerCase()])||void 0===l?void 0:l.decimals)&&void 0!==s?s:18},n=e=>{var l,s;return null!==(s=null===(l=t[null==e?void 0:e.toLowerCase()])||void 0===l?void 0:l.tokenSymbol)&&void 0!==s?s:"Unkown"},r=e=>{var l,s;return null!==(s=null===(l=t[null==e?void 0:e.toLowerCase()])||void 0===l?void 0:l.tokenImg)&&void 0!==s?s:"/Unkown"},d=e=>{var l,s;return null!==(s=null===(l=t[null==e?void 0:e.toLowerCase()])||void 0===l?void 0:l.tokenName)&&void 0!==s?s:"Unkown"}}},function(e){e.O(0,[818,578,275,667,488,744],function(){return e(e.s=27379)}),_N_E=e.O()}]);