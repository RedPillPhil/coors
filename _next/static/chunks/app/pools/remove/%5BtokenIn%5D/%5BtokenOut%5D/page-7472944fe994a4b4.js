(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{5090:function(e,s,l){Promise.resolve().then(l.bind(l,50466))},50466:function(e,s,l){"use strict";l.r(s);var t=l(9268),n=l(86006),a=l(56008),r=l(35846),i=l.n(r),o=l(76394),c=l.n(o),d=l(19707),x=l(54306),m=l(53754),u=l(9770),p=l(71986),f=l(89105),h=l(74713),b=l(38251),v=l(17476),j=l(52937),N=l(82567),w=l(32522),E=l(56886);let{ethAddress:g,factoryAddress:y,routerAddress:C}=p.k;s.default=()=>{let{tokenIn:e,tokenOut:s}=(0,a.useParams)(),{address:l,isConnected:r}=(0,d.mA)(),{slippage:o,setSlippage:p,deadline:k,setDeadline:F}=(0,n.useContext)(b.SettingContext),[S,L]=(0,n.useState)(!1),[A,M]=(0,n.useState)(""),[T,z]=(0,n.useState)(0),[Z,_]=(0,n.useState)(0),[O,R]=(0,n.useState)("0"),B=(0,h.Nr)(O,1e3),[D,q]=(0,n.useState)(!1),{data:I}=(0,d.KQ)({address:l,enabled:!!A&&!!l,token:A}),[P,Y]=(0,N.k)({token0:e,token1:s,account:l}),J=async()=>{let e=(0,x.uN)({address:A,abi:x.em}),s=await e.read.allowance([l,C]);Number((0,f.bM)(s))<Number(O)?L(!1):L(!0)},Q=async()=>{await (0,x.n9)({address:A,account:l,abi:x.em,functionName:"approve",args:[C,(0,f.vz)(O.toString(),18)]}).then(e=>{L(!0)}).catch(e=>{console.log({error:e})})},V=async()=>{if(e.toLowerCase()===g.toLowerCase()||s.toLowerCase()===g.toLowerCase()){let t=e.toLowerCase()===g.toLowerCase(),n=(null==P?void 0:P.token0.toLowerCase())===g.toLowerCase()?Z:T,a=(null==P?void 0:P.token0.toLowerCase())===g.toLowerCase()?T:Z;await (0,x.n9)({address:C,account:l,abi:m.Mt,functionName:"removeLiquidityETHSupportingFeeOnTransferTokens",args:[t?s:e,(0,f.vz)(O.toString(),18),(0,f.vz)(Number((0,E.Z)(n*((100-o)/100))).toFixed((0,w.pC)(t?null==P?void 0:P.token1:null==P?void 0:P.token0)).toString(),(0,w.pC)(t?null==P?void 0:P.token1:null==P?void 0:P.token0)),(0,f.vz)((a*((100-o)/100)).toString(),18),l,new Date().getTime()+2e5]}).then(e=>{console.log(e)}).catch(e=>{console.log({error:e})})}else await (0,x.n9)({address:C,account:l,abi:m.Mt,functionName:"removeLiquidity",args:[null==P?void 0:P.token0,null==P?void 0:P.token1,(0,f.vz)(O.toString(),18),(0,f.vz)((0,E.Z)((T*((100-o)/100)).toFixed((0,w.pC)(null==P?void 0:P.token0))),(0,w.pC)(e)),(0,f.vz)((0,E.Z)((Z*((100-o)/100)).toFixed((0,w.pC)(null==P?void 0:P.token1))),(0,w.pC)(null==P?void 0:P.token1)),l,new Date().getTime()+2e5]}).then(e=>{console.log(e)}).catch(e=>{console.log({error:e})})};return(0,n.useEffect)(()=>{if(A&&P){J();let[e,s]=P.reserves,l=Number((0,f.bM)(e,(0,w.pC)(P.token0))),t=Number((0,f.bM)(s,(0,w.pC)(P.token1))),n=Number((0,f.bM)(P.totalSupply,18));z(l/n*Number(O)),_(t/n*Number(O))}},[B]),(0,n.useEffect)(()=>{if(P&&l){let e=(0,x.uN)({address:y,abi:u.Mt});e.read.getPair([P.token0,P.token1]).then(e=>{"0x0000000000000000000000000000000000000000"!==e&&M(e)})}},[l,P]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{title:"SETTINGS",open:D,onClose:()=>q(!1),children:(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center w-full px-5 py-3",children:[(0,t.jsx)("span",{children:"Max. slippage"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"number",value:o,onChange:e=>p(Number(e.target.value)),className:"border-[#E6E6E6] rounded-2xl bg-[#FAFAF5] px-4 py-2 w-[70px]"}),(0,t.jsx)(j.Z,{className:"absolute right-6 text-[#464545]"})]})]})," ",(0,t.jsxs)("div",{className:"flex justify-between items-center w-full px-5 py-3",children:[(0,t.jsx)("span",{children:"Transaction deadline"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"number",value:k,onChange:e=>F(Number(e.target.value)),className:"border-[#E6E6E6] rounded-2xl bg-[#FAFAF5] px-4 py-2 w-[80px]"}),(0,t.jsx)("span",{className:"absolute right-6 text-[#464545]",children:"min"})]})]})]})}),(0,t.jsx)("div",{className:"flex-1 flex justify-center flex-col",children:(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:" relative w-full flex justify-center mt-10 mb-[50px] box-shadow bg-[#FFFCF6] z-50",children:(0,t.jsx)("div",{className:"md:max-w-[700px] md:min-w-[600px] min-w-full max-w-full p-[2px] rounded-3xl",children:(0,t.jsx)("div",{className:"flex flex-col w-full min-h-[400px]rounded-3xl shadow-card px-4 py-3",children:(0,t.jsxs)("div",{className:"w-full max-w-screen-xl mx-auto",children:[(0,t.jsxs)("div",{id:"header",className:"flex justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(i(),{href:"/pools",children:(0,t.jsx)(c(),{src:"/arrow.svg",alt:"arrow",width:19,height:19,className:"mr-5"})}),(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsxs)("h2",{className:"text-black text-2xl font-semibold",children:["REMOVE ",(0,w.sS)(e),"-",(0,w.sS)(s)," LIQUDITY"]}),(0,t.jsxs)("p",{className:"text-black text-base",children:["To receive ",(0,w.oY)(e)," and"," ",(0,w.oY)(s),"."]})]})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",onClick:()=>q(!0),className:"w-8 h-8",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z",clipRule:"evenodd"})})})]}),r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{id:"body",className:"flex flex-col justify-between mx-4 mt-5",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Amount"}),(0,t.jsxs)("span",{children:["Balance: ",null==I?void 0:I.formatted]})]}),(0,t.jsxs)("div",{className:"flex flex-col my-2",children:[(0,t.jsx)("input",{value:O,onChange:e=>R(e.target.value),type:"number",className:"border-2 border-[#E6E6E6] rounded-3xl bg-[#FAFAF5] py-3 px-4 text-2xl font-semibold"}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4 my-4 mt-5",children:[(0,t.jsx)("div",{onClick:()=>R((.25*Number(null==I?void 0:I.formatted)).toString()),className:"flex max-w-[60px] justify-center items-center border-2 border-[#E6E6E6] bg-[#FAFAF5] rounded-full px-3 px-2",children:"25%"}),(0,t.jsx)("div",{onClick:()=>R((.5*Number(null==I?void 0:I.formatted)).toString()),className:"flex max-w-[60px] justify-center items-center border-2 border-[#E6E6E6] bg-[#FAFAF5] rounded-full px-3 px-2",children:"50%"}),(0,t.jsx)("div",{onClick:()=>R((.75*Number(null==I?void 0:I.formatted)).toString()),className:"flex max-w-[60px] justify-center items-center border-2 border-[#E6E6E6] bg-[#FAFAF5] rounded-full px-3 px-2",children:"75%"}),(0,t.jsx)("div",{onClick:()=>R(null==I?void 0:I.formatted),className:"flex max-w-[60px] justify-center items-center border-2 border-[#E6E6E6] bg-[#FAFAF5] rounded-full px-3 px-2",children:"MAX"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,t.jsx)("span",{children:"Receive"}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{className:"border-t-2 min-h-[60px] border-[#E6E6E6] py-2 pl-5 pr-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,t.jsx)(c(),{src:(0,w.Jn)(null==P?void 0:P.token0.toLowerCase()),width:"36",height:"36",className:"ml-[-15px]",alt:"".concat((0,w.sS)(null==P?void 0:P.token0.toLowerCase())," logo")}),(0,t.jsx)("span",{children:(0,w.sS)(null==P?void 0:P.token0)})]}),(0,t.jsx)("div",{children:(0,E.Z)(T)})]})}),(0,t.jsx)("div",{className:"py-2 pl-5 pr-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,t.jsx)(c(),{src:(0,w.Jn)(null==P?void 0:P.token1.toLowerCase()),width:"36",height:"36",className:"ml-[-15px]",alt:"".concat((0,w.sS)(null==P?void 0:P.token1.toLowerCase())," logo")}),(0,t.jsx)("span",{children:(0,w.sS)(null==P?void 0:P.token1.toLowerCase())})]}),(0,t.jsx)("div",{children:(0,E.Z)(Z)})]})}),(0,t.jsx)("div",{className:"border-t-2 min-h-[60px] border-[#E6E6E6] py-2 pl-5 pr-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,t.jsx)("span",{children:"Slippage Tolerance"}),(0,t.jsxs)("span",{children:[o,"%"]})]})})]})]})]}),(0,t.jsxs)("div",{className:"border-t-2 border-[#E6E6E6] min-h-[60px] space-x-4 flex justify-center mx-4 items-center py-3",children:[(0,t.jsx)("button",{disabled:S,onClick:Q,className:"".concat(S?"text-[#60E56A] bg-[#EFEFEF]":"box-sx"," border-2 border-[#E6E6E6] rounded-2xl px-8 py-4 w-[50%] font-semibold text-2xl"),children:S?"ENABLED":"ENABLE"}),(0,t.jsx)("button",{disabled:!S,onClick:V,className:"".concat(S?"box-sx":"text-[#60E56A] bg-[#EFEFEF]"," border-2 border-[#E6E6E6] rounded-2xl px-8 py-4 w-[50%] font-semibold text-2xl"),children:"REMOVE"})]})]}):(0,t.jsx)("div",{className:"flex justify-center items-center my-10",children:(0,t.jsx)("span",{children:"Connect to a wallet to remove your liquidity."})})]})})})})})})]})}}},function(e){e.O(0,[615,98,883,818,715,70,275,394,865,667,488,744],function(){return e(e.s=5090)}),_N_E=e.O()}]);
